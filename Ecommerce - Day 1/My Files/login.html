<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>
    <style>
        a {
            text-decoration: none;
        }

        #navbar {
          display: flex;
          justify-content: space-around;
          background-color: teal;
          padding: 10px;
        }

        #navbar a:hover {
          color: white; 
        }

        #navbar a {
          cursor: pointer;
        }
    </style>
  </head>
  <body>
        <div id="navbar">
                <div><a href="mens.html">Men</a> </div>
                <div><a href="womens.html">Women</a> </div>
                <div><a href="signup.html">Signup</a> </div>
                <div><a href="login.html">Login</a> </div>
        </div>
    <h1>Login Page</h1>
    <form id="form">
      <input id="email" type="email" placeholder="Enter email " />
      <input id="pass" type="password" placeholder="Enter password " />
      <input type="submit" />
    </form>

  </body>
</html>

<script> 

      document.querySelector("form").addEventListener("submit", loginFunc)

      var registeredUsers=JSON.parse(localStorage.getItem("userCreds"));

      function loginFunc() {
        event.preventDefault();
        
        //Note: For login pages, we don't need to store in an object/retrieve the entire data object, only
        // just get the email & pw and check with the local storage values

          var enteredEmail=document.querySelector("#email").value;
          var enteredPass=document.querySelector("#pass").value;
        
        //Check if it is being logged or not
          console.log(email,pass) 

        //Now we need to compare the inputted email & pw values to that in localStorage:
        // Thus we need to retrieve that data from localStorage - in Line 50

        //NOTE: Now in order to compare the inputted values & those stored in LS, we use a For Loop:
        for (var i=0; i < registeredUsers.length; i++) {
              // console.log(registeredUsers[i]);
          
              if (registeredUsers[i].email==enteredEmail && 
                  registeredUsers[i].password==enteredPass) {
                      alert("login success");
                      //If login is successful, we want to redirect to the men's page: 
                      window.location.href="mens.html";
                      //now go to mens.html;
                      break;
                      // the break is very important or else it will run for all other login inputs provided
                  } else {
                    console.log("login failed");
                }
         }
      }


</script>